{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../util.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@ionic/angular\";\nfunction SignupPage_ion_text_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-text\", 23);\n    i0.ɵɵtext(1, \" Email must start with a lowercase letter. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupPage_ion_text_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-text\", 23);\n    i0.ɵɵtext(1, \" Password and Confirm Password fields should match \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport const StrongPasswordRegx = /^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\D*\\d).{8,}$/;\nexport let SignupPage = /*#__PURE__*/(() => {\n  class SignupPage {\n    constructor(util, router) {\n      this.util = util;\n      this.router = router;\n      this.showPassword = false;\n      this.showConfirmPassword = false;\n      this.signupForm = new FormGroup({\n        role: new FormControl('', Validators.required),\n        name: new FormControl('', Validators.required),\n        phone: new FormControl('', Validators.required),\n        address: new FormControl('', Validators.required),\n        email: new FormControl('', Validators.compose([Validators.required, Validators.email, this.lowercaseEmailValidator])),\n        password: new FormControl('', Validators.required),\n        confirmPassword: new FormControl('', Validators.required)\n      });\n    }\n    lowercaseEmailValidator(control) {\n      const email = control.value;\n      const startsWithLowercase = /^[a-z]/.test(email); // Check if the first character is lowercase\n      return startsWithLowercase ? null : {\n        lowercaseEmail: true\n      };\n    }\n    signup(form) {\n      if (this.signupForm.valid) {\n        this.util.showLoading();\n        this.util.post('register', form).subscribe({\n          next: res => {\n            if (res.status == 'success') {\n              console.log('signin', res);\n              this.util.presentToast('Success');\n              this.signupForm.reset();\n              this.router.navigate(['/login']);\n            }\n          },\n          error: err => {\n            this.util.showLoading();\n            this.util.presentToast('Error Detected');\n            console.log('SignupFailed', err);\n          }\n        });\n      }\n    }\n    toggleShowPassword() {\n      this.showPassword = !this.showPassword;\n    }\n    toggleShowConfirmPassword() {\n      this.showConfirmPassword = !this.showConfirmPassword;\n    }\n    static #_ = (() => this.ɵfac = function SignupPage_Factory(t) {\n      return new (t || SignupPage)(i0.ɵɵdirectiveInject(i1.UtilService), i0.ɵɵdirectiveInject(i2.Router));\n    })();\n    static #_2 = (() => this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SignupPage,\n      selectors: [[\"app-signup\"]],\n      decls: 53,\n      vars: 8,\n      consts: [[\"slot\", \"start\"], [\"routerLink\", \"/welcome\", \"routerDirection\", \"back\", 1, \"backbtn\"], [\"src\", \"../../assets/back.svg\"], [1, \"ion-padding\"], [1, \"ion-padding\", \"container\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"form-container\"], [1, \"font-bold\"], [\"formControlName\", \"role\", \"placeholder\", \"Choose the Profile to Signup\"], [\"value\", \"customer\", 1, \"font-bold\"], [\"value\", \"shop\", 1, \"font-bold\"], [\"position\", \"floating\", 1, \"font-bold\"], [\"formControlName\", \"name\"], [\"formControlName\", \"phone\", \"maxLength\", \"10\"], [\"formControlName\", \"address\"], [\"formControlName\", \"email\"], [\"color\", \"danger\", 4, \"ngIf\"], [\"formControlName\", \"password\", 3, \"type\"], [\"slot\", \"end\", 3, \"click\", \"name\"], [\"formControlName\", \"confirmPassword\", 3, \"type\"], [\"expand\", \"block\", \"type\", \"submit\", 1, \"main-button\", 3, \"disabled\"], [1, \"sign-up\"], [\"color\", \"dark\", \"fill\", \"clear\", \"routerLink\", \"/login\", \"routerDirection\", \"forward\"], [\"color\", \"danger\"]],\n      template: function SignupPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0)(3, \"ion-button\", 1);\n          i0.ɵɵelement(4, \"img\", 2);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(5, \"ion-content\", 3)(6, \"div\", 4)(7, \"h1\");\n          i0.ɵɵtext(8, \"Signup\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"form\", 5);\n          i0.ɵɵlistener(\"ngSubmit\", function SignupPage_Template_form_ngSubmit_9_listener() {\n            return ctx.signup(ctx.signupForm.value);\n          });\n          i0.ɵɵelementStart(10, \"div\", 6)(11, \"ion-item\")(12, \"ion-label\", 7);\n          i0.ɵɵtext(13, \"Select Role\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"ion-select\", 8)(15, \"ion-select-option\", 9);\n          i0.ɵɵtext(16, \"Customer\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"ion-select-option\", 10);\n          i0.ɵɵtext(18, \"Shop\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(19, \"ion-item\")(20, \"ion-label\", 11);\n          i0.ɵɵtext(21, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(22, \"ion-input\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"ion-item\")(24, \"ion-label\", 11);\n          i0.ɵɵtext(25, \"Phone\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(26, \"ion-input\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"ion-item\")(28, \"ion-label\", 11);\n          i0.ɵɵtext(29, \"Address\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(30, \"ion-input\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"ion-item\")(32, \"ion-label\", 11);\n          i0.ɵɵtext(33, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(34, \"ion-input\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(35, SignupPage_ion_text_35_Template, 2, 0, \"ion-text\", 16);\n          i0.ɵɵelementStart(36, \"ion-item\")(37, \"ion-label\", 11);\n          i0.ɵɵtext(38, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(39, \"ion-input\", 17);\n          i0.ɵɵelementStart(40, \"ion-icon\", 18);\n          i0.ɵɵlistener(\"click\", function SignupPage_Template_ion_icon_click_40_listener() {\n            return ctx.toggleShowPassword();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(41, \"ion-item\")(42, \"ion-label\", 11);\n          i0.ɵɵtext(43, \"Confirm Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(44, \"ion-input\", 19);\n          i0.ɵɵelementStart(45, \"ion-icon\", 18);\n          i0.ɵɵlistener(\"click\", function SignupPage_Template_ion_icon_click_45_listener() {\n            return ctx.toggleShowConfirmPassword();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(46, SignupPage_ion_text_46_Template, 2, 0, \"ion-text\", 16);\n          i0.ɵɵelementStart(47, \"ion-button\", 20);\n          i0.ɵɵtext(48, \" Sign Up\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(49, \"div\", 21);\n          i0.ɵɵtext(50, \" Already have an account? \");\n          i0.ɵɵelementStart(51, \"ion-button\", 22);\n          i0.ɵɵtext(52, \"Sign in\");\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"formGroup\", ctx.signupForm);\n          i0.ɵɵadvance(26);\n          i0.ɵɵproperty(\"ngIf\", ctx.signupForm.get(\"email\").hasError(\"lowercaseEmail\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"name\", ctx.showPassword ? \"eye-outline\" : \"eye-off-outline\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"type\", ctx.showConfirmPassword ? \"text\" : \"password\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"name\", ctx.showConfirmPassword ? \"eye-outline\" : \"eye-off-outline\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.signupForm.haserror(\"passwordNotMatch\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.signupForm.invalid || ctx.signupForm.hasError(\"passwordNotMatch\"));\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatus, i4.NgControlStatusGroup, i5.IonButton, i5.IonButtons, i5.IonContent, i5.IonHeader, i5.IonIcon, i5.IonInput, i5.IonItem, i5.IonLabel, i5.IonSelect, i5.IonSelectOption, i5.IonText, i5.IonToolbar, i5.SelectValueAccessor, i5.TextValueAccessor, i5.RouterLinkDelegate, i4.FormGroupDirective, i4.FormControlName, i2.RouterLink],\n      styles: [\"ion-toolbar[_ngcontent-%COMP%]{--border-width: 0 !important}.header-md[_ngcontent-%COMP%]:after{background:none!important}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.backbtn[_ngcontent-%COMP%]{margin-left:20px}.form-container[_ngcontent-%COMP%]{margin-top:48px}.form-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--border-color: #DADADA}.form-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#a6a6a6}.form-container[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:auto;color:#c6cbd4}.form-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:48px}.sign-up[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.sign-up[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.font-bold[_ngcontent-%COMP%]{font-weight:700}\"]\n    }))();\n  }\n  return SignupPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nlet AddAddressPage = class AddAddressPage {\n  constructor(util) {\n    this.util = util;\n    this.loginUser = [];\n    this.addressData = [];\n    this.loadData = true;\n    this.addaddress = new FormGroup({\n      address: new FormControl('', Validators.required),\n      location: new FormControl('', Validators.required)\n    });\n  }\n  ionViewWillEnter() {\n    this.getloginUser();\n    this.address();\n  }\n  getloginUser() {\n    let login = JSON.parse(localStorage.getItem('login'));\n    if (login != null) {\n      this.loginUser = login;\n    }\n  }\n  setLocation(location) {\n    this.addaddress.get('location')?.setValue(location);\n  }\n  address() {\n    if (this.addaddress.valid) {\n      this.loadData = true;\n      const token = this.loginUser.token;\n      const userid = this.loginUser.id;\n      const addressDetails = {\n        user_id: userid,\n        address: this.addaddress.get('address')?.value,\n        location: this.addaddress.get('location')?.value\n      };\n      this.util.sendData('addaddress', addressDetails, token).subscribe({\n        next: p => {\n          if (p.status = 'success') {\n            this.addressData = p.data;\n            this.util.presentToast('Address added successfully');\n            console.log('Address Added:', this.addressData);\n            this.addaddress.reset();\n          } else {\n            this.util.presentToast(p.message || 'Failed to add address');\n          }\n          this.loadData = false;\n        },\n        error: () => {\n          this.loadData = false;\n          console.log('An Error Occurred. Please try again later');\n        }\n      });\n    } else {\n      console.log('Error', this.addaddress.invalid);\n    }\n  }\n};\nAddAddressPage = __decorate([Component({\n  selector: 'app-add-address',\n  templateUrl: './add-address.page.html',\n  styleUrls: ['./add-address.page.scss']\n})], AddAddressPage);\nexport { AddAddressPage };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}